<ion-view view-title="Active Challenges">
  <ion-content>
    <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
    </ion-refresher>
    <!-- <ion-list>
      <ion-item class="item-thumbnail-left" ng-repeat="challenge in challenges" href="#/tab/pending-detail/{{challenge._id}}">
        <img ng-src="{{photo[challenge.challengerId] || photo[challenge.challengeeId]}}">
        <p>Opponent: {{challenge.opponent}}</p>
        <p>Segment: {{challenge.segmentName}}</p>
        <p>Complete By: {{challenge.expires | date:format:shortDate}}</p>
        <div class="button-bar" ng-show="{{challenge.challengeeId}} === {{userId}}">
          <button class="button button-stable button-block button-small icon ion-close-round" ng-click="declineChallenge(challenge); challenges.splice($index, 1); $event.preventDefault();"></button>
          <button class="button button-stable button-block button-small icon ion-checkmark-round" ng-click="acceptChallenge(challenge); challenges.splice($index, 1); $event.preventDefault();"></button>
        </div>
      </ion-item>
    </ion-list> -->

    <ion-list>
      <ion-item class="item-thumbnail-left item-remove-animate item-icon-right" ng-repeat="activeChallenge in activeChallenges" href="#/tab/active-detail/{{activeChallenge._id}}">
        <img ng-src="{{photo[activeChallenge.challengerId] || photo[activeChallenge.challengeeId]}}">
        <p>Opponent: {{activeChallenge.opponent}}</p>
        <p>Segment: {{activeChallenge.segmentName}}</p>
        <p>Complete by: {{activeChallenge.expires | date:format:shortDate}}</p>
        <i class="icon ion-chevron-right icon-accessory"></i>
        <ion-option-button class="button-assertive" ng-click="removeActiveChallenge(activeChallenge, userId); activeChallenges.splice($index, 1)">
          Challenge Complete
        </ion-option-button>
      </ion-item>

    </ion-list>
  </ion-content>
</ion-view>



<!-- <ion-list>
      <ion-item class="item-thumbnail-left" ng-repeat="challenge in challenges" href="#/tab/pending-detail/{{challenge._id}}">
        <img ng-src="{{photo[challenge.challengerId] || photo[challenge.challengeeId]}}">
        <p>Opponent: {{challenge.opponent}}</p>
        <p>Segment: {{challenge.segmentName}}</p>
        <p>Complete By: {{challenge.expires | date:format:shortDate}}</p>
        <div class="button-bar" ng-show="{{challenge.challengeeId}} === {{userId}}">
          <button class="button button-stable button-block button-small icon ion-close-round" ng-click="declineChallenge(challenge); challenges.splice($index, 1); $event.preventDefault();"></button>
          <button class="button button-stable button-block button-small icon ion-checkmark-round" ng-click="acceptChallenge(challenge); challenges.splice($index, 1); $event.preventDefault();"></button>
        </div>
      </ion-item>
    </ion-list> -->